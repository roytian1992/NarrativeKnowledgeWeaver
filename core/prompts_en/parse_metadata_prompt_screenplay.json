{
  "id": "parse_screenplay_metadata",
  "category": "regular_function",
  "name": "Screenplay Scene Metadata Extraction",
  "description": "Accurately extract and standardize scene number (including composite numbers), space/location/lighting, and other metadata from scene titles.",
  "template": "Please parse the following screenplay scene title, extract and standardize structured metadata.\n\nTitle: {title}\n\n[Fields and Specifications]\n1) scene_id (required, can be null):\n   - Definition: Scene number, usually at the beginning of the title, can be pure numbers or composite numbers (e.g., \"17-13\").\n   - Extraction Rules:\n     a. Prioritize matching the number at the beginning of the title: ^\\s*([0-9]+(?:-[0-9]+)?)\\s*[、：:.]?\\s*\n     b. If a is not matched, then search for the first number conforming to [0-9]+(-[0-9]+)? within the entire line.\n     c. After matching, remove extra punctuation and spaces, keeping only forms like \"71\" or \"17-13\".\n     d. If not matched, it is null.\n\n2) scene_category:\n   - Output only: \"INT\" (Interior), \"EXT\" (Exterior), null.\n   - Standardization mapping: \"INT/内/内景/室内\" and other synonyms are unified to \"INT\"; \"EXT/外/外景/室外\" and other synonyms are unified to \"EXT\"; if unable to determine, it is null.\n\n3) lighting:\n   - Output only: \"Day\", \"Night\", \"No Day-Night\", null.\n   - Standardization mapping: \"日/白天/晨/午/黄昏 (if \"night\" is not present)\" can be unified to \"Day\"; \"夜/晚/深夜/午夜\" and other synonyms are unified to \"Night\"; explicitly marked as \"无日夜/ND/No Day-Night\" is unified to \"No Day-Night\"; if unable to determine, it is null.\n\n4) space:\n   - Output only: \"Real World\", \"Digital Space\", \"Dream\", null (judged by title keywords or common annotations, null if unable to determine).\n\n5) region / main_location / sub_location:\n   - region: Larger area/geographical scope (e.g., \"Libreville\", \"Beijing City Block\", \"Lunar Base\").\n   - main_location: Main scene location (e.g., \"UEG Base\", \"Command Room\", \"Experiment Cabin\", \"Training Ground\").\n   - sub_location: More granular location (e.g., \"Electromagnetic Gun Training Ground\", \"Corridor\", \"Doorway\", \"Window Side\").\n   - Extraction suggestions:\n     a. Decompose semantically from large to small (Geography/Facility → Building/Area → Function/Specific Point).\n     b. If the hierarchy is insufficient, missing fields are set to null; avoid arbitrary speculation.\n\n6) summary: Summarize the scene\\'s purpose/atmosphere in one sentence no more than 20 characters (can be null if no clues).\n\n[Return Format (Strict JSON, output object only)]\n{{\n  \"metadata\": {{\n    \"scene_id\": \"71 or 17-13 or null\",\n    \"scene_category\": \"INT / EXT / null\",\n    \"lighting\": \"Day / Night / No Day-Night / null\",\n    \"space\": \"Real World / Digital Space / Dream / null\",\n    \"region\": \"Region Information or null\",\n    \"main_location\": \"Main Scene Location or null\",\n    \"sub_location\": \"Sub Scene Location or null\",\n    \"summary\": \"One-sentence plot summary or null\"\n  }}\n}}\n\nPlease strictly output according to the above JSON structure and value specifications, do not add any additional explanations or comments.",
  "variables": [
    {
      "name": "title",
      "description": "Screenplay scene title"
    }
  ]
}
