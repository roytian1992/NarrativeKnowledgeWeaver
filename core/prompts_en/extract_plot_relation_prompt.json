{
  "id": "extract_plot_relation_prompt_v2",
  "category": "regular_function",
  "name": "Plot Relationship Judgment Prompt (Prerequisite/Advance/Block/Resolve/Conflict/Parallel, with Direction)",
  "description": "Determine if there is a relationship between two plots: PLOT_PREREQUISITE_FOR, PLOT_ADVANCES, PLOT_BLOCKS, PLOT_RESOLVES (all directed), and PLOT_CONFLICTS_WITH, PLOT_PARALLELS (both undirected); output the reason, direction, and confidence.",
  "template": "You are a narrative structure analysis expert. Task: Based on the given two plot information, determine the relationship between them, and strictly output JSON as required. Do not speculate on information outside the input; return None if evidence is insufficient.\n\n[Relationship Definitions]\n- PLOT_PREREQUISITE_FOR (directed): The result of Plot A is a prerequisite for Plot B; without A, B cannot be established.\n- PLOT_ADVANCES (directed): Plot A promotes/facilitates Plot B (provides clues/resources/situations/justification), but is not a prerequisite.\n- PLOT_BLOCKS (directed): Plot A creates obstacles/delays/damage to Plot B, making its goal harder to achieve.\n- PLOT_RESOLVES (directed): Plot A resolves/solves the main conflict of Plot B.\n- PLOT_CONFLICTS_WITH (undirected): Two plots are directly opposed in terms of goals/interests/positions, acting as mutual阻力.\n- PLOT_PARALLELS (undirected): Two plots are similar in theme/structure, but have weak connections in characters/locations/causality, with no obvious interaction.\n\n[Input]\n[Plot A]\n{plot_A_info}\n\n[Plot B]\n{plot_B_info}\n\n[Judgment Steps (Please think in order and draw conclusions accordingly)]\n1) Element Alignment: Extract the goal, conflict, theme, resolution, time frame, main characters/locations of both parties.\n2) Directed Relationship Detection:\n   - PREREQUISITE_FOR: B has a necessary dependency on the result of A; if A is removed, B cannot proceed/be established.\n   - ADVANCES: The result/information/situation of A increases the probability or rationality of B (not necessary).\n   - BLOCKS: The result of A conflicts with B\\'s goal or increases difficulty (resource loss, rule changes, time constraints, etc.).\n   - RESOLVES: A\\'s resolution directly corresponds to and resolves B\\'s conflict.\n3) Undirected Relationship Detection:\n   - CONFLICTS_WITH: Goals are opposed or one party\\'s goal \u2248 another party\\'s conflict.\n   - PARALLELS: High similarity in theme/structure, with low overlap in characters/locations, and no obvious causality.\n4) Direction Judgment: Only give A->B or B->A when the conclusion is a directed relationship; direction is null for undirected relationships or None.\n5) Priority Disambiguation (If multiple are true, take the highest priority):\n   PREREQUISITE_FOR > RESOLVES > BLOCKS > ADVANCES > CONFLICTS_WITH > PARALLELS > None.\n\n[Output Format (Strictly follow)]\nPlease output only the following JSON object, do not include any additional text:\n```json\n{\n  \"relation_type\": \"PLOT_PREREQUISITE_FOR / PLOT_ADVANCES / PLOT_BLOCKS / PLOT_RESOLVES / PLOT_CONFLICTS_WITH / PLOT_PARALLELS / None\",\n  \"direction\": \"A->B / B->A / null\",\n  \"reason\": \"3-5 sentences briefly explain the key basis, citing evidence from both parties\\' goals/conflicts/resolutions/time or character locations. Use only input information, do not speculate.\",\n  \"confidence\": 0.0\n}\n```\nNotes:\n- When selecting PLOT_CONFLICTS_WITH or PLOT_PARALLELS or None, direction must be null (JSON null).\n- If evidence is insufficient or cannot be determined, relation_type= \"None\", direction=null, and explain the shortcomings in the reason.\n- Strictly output JSON object; confidence is a decimal between [0,1].",
  "variables": [
    {
      "name": "plot_A_info",
      "description": "Complete information of Plot A (title, summary, goal, conflict, theme, resolution, main events/time/characters/locations, etc.)"
    },
    {
      "name": "plot_B_info",
      "description": "Complete information of Plot B (title, summary, goal, conflict, theme, resolution, main events/time/characters/locations, etc.)"
    }
  ]
}