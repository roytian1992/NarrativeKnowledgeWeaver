{
  "id": "extract_attributes_prompt",
  "category": "regular_function",
  "name": "Entity Attribute Extraction Prompt (CMP Version, with Context)",
  "description": "Without altering the input/output structure, use \"common sense + original text\" to make reasonable inferences (CMP), extract structured attributes, and provide a final concise description of the entity.",
  "template": "You are a senior knowledge graph engineer, using the **CMP (Common-sense & Manuscript Prior)** principle: Under the premise of ensuring no contradiction with the original text, **reasonably infer** missing details by combining common sense/domain knowledge. If the original text conflicts with common sense, the original text takes precedence; if there is insufficient evidence and no stable inference can be made, keep it as an empty string \"\".\n\n## I. Input Information\n- Current Entity: `{entity_name}`\n- Entity Type: `{entity_type}`\n- Entity Type Description:\n{description}\n\n- Original Context Related to This Entity:\n{text}\n\n## II. Attribute Definitions\nThe following are the attributes and their meanings to be extracted for this entity type (output using these **exact field names**):\n{attribute_definitions}\n\n## III. Extraction Principles (CMP)\n1.  **Evidence Priority**: Information explicitly provided in the original text takes precedence;\n2.  **Reasonable Inference**: When not explicitly stated in the original text but can be derived from the context and stable common sense (and does not conflict with the original text), an **inferred value** can be provided;\n3.  **Conservative Omission**: If there is insufficient evidence and the inference is unstable (multiple interpretations/highly subjective), the attribute value should be set to an empty string \"\";\n4.  **Consistency**: All attribute values must be strings (including numbers/dates, etc.);\n5.  **Field Lock**: Strictly use the given attribute names; adding, renaming, or deleting fields is prohibited;\n6.  **Final Description**: `new_description` must be generated, concise and accurate (≤60 Chinese characters or ≤40 English words), and must not contradict the original text;\n7.  **Conflict Handling**: Any inference must not conflict with the original text; if there is a conflict, use the information from the original text and avoid introducing contradictions in the description.\n\n## IV. Output Format (Only output the following JSON, without additional explanations or Markdown wrapping)\n```json\n{\n  \"new_description\": \"Final entity description (must not be empty)\",\n  \"attributes\": {\n    \"Attribute1\": \"Corresponding value (can be directly extracted from the original text or reasonably inferred; empty string if none)\",\n    \"Attribute2\": \"...\"\n  }\n}\n```",
  "variables": [
    {
      "name": "entity_name",
      "description": "Current entity name"
    },
    {
      "name": "entity_type",
      "description": "Current Entity Type"
    },
    {
      "name": "description",
      "description": "A brief natural language description of the entity type"
    },
    {
      "name": "text",
      "description": "The contextual text content where the entity is located (as the original source)."
    },
    {
      "name": "attribute_definitions",
      "description": "Formatted list of attributes and their meanings (fixed field names)"
    }
  ]
}